<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.92.2" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>Bringing it all together :: System-on-Chip design and experimentation - labs</title>

    
    <link href="../../css/nucleus.css?1707469859" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1707469859" rel="stylesheet">
    <link href="../../css/hybrid.css?1707469859" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1707469859" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1707469859" rel="stylesheet">
    <link href="../../css/auto-complete.css?1707469859" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1707469859" rel="stylesheet">
    <link href="../../css/theme.css?1707469859" rel="stylesheet">
    <link href="../../css/tabs.css?1707469859" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1707469859" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1707469859" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1707469859"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
      <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

<script>
window.MathJax = {
  chtml: {
    scale: 2,                      
    minScale: .5,                  
    matchFontHeight: true,         
    mtextInheritFont: false,       
    merrorInheritFont: true,       
    mathmlSpacing: false,          
    skipAttributes: {},            
    exFactor: .5,                  
    displayAlign: 'center',        
    displayIndent: '0'             
  }
};
</script>

<script src=../../js/osc.js></script>
  </head>
  <body class="" data-url="../../ch1_light/4_together/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
	<img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
	<img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1707469859"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1707469859"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/course_soc-lab\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1707469859"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/ch0_intro/" title="0: Introduction to the labs" class="dd-item
        
        
        
        ">
      <a href="../../ch0_intro/">
          0: Introduction to the labs
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch1_light/" title="1: Let there be light" class="dd-item
        parent
        
        
        ">
      <a href="../../ch1_light/">
          1: Let there be light
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch1_light/1_light/" title="Let there be light" class="dd-item ">
        <a href="../../ch1_light/1_light/">
        Let there be light
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch1_light/2_prescaling/" title="Pre-scaling" class="dd-item ">
        <a href="../../ch1_light/2_prescaling/">
        Pre-scaling
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch1_light/3_colour/" title="Turn up the colours" class="dd-item ">
        <a href="../../ch1_light/3_colour/">
        Turn up the colours
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch1_light/4_together/" title="Bringing it all together" class="dd-item active">
        <a href="../../ch1_light/4_together/">
        Bringing it all together
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch2_soc/" title="2: Put a SoC in it" class="dd-item
        
        
        
        ">
      <a href="../../ch2_soc/">
          2: Put a SoC in it
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch2_soc/1_soc/" title="Put a SoC in it" class="dd-item ">
        <a href="../../ch2_soc/1_soc/">
        Put a SoC in it
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2_soc/2_emb_software/" title="Embedded software" class="dd-item ">
        <a href="../../ch2_soc/2_emb_software/">
        Embedded software
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch3_comm/" title="3: Communication" class="dd-item
        
        
        
        ">
      <a href="../../ch3_comm/">
          3: Communication
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch3_comm/1_communication/" title="Communication" class="dd-item ">
        <a href="../../ch3_comm/1_communication/">
        Communication
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch3_comm/2_mult_clock/" title="Multiple clocks" class="dd-item ">
        <a href="../../ch3_comm/2_mult_clock/">
        Multiple clocks
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch3_comm/3_communicator/" title="Communicator" class="dd-item ">
        <a href="../../ch3_comm/3_communicator/">
        Communicator
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch4_esw/" title="4: Embedded Software" class="dd-item
        
        
        
        ">
      <a href="../../ch4_esw/">
          4: Embedded Software
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch4_esw/1_driver/" title="Driver" class="dd-item ">
        <a href="../../ch4_esw/1_driver/">
        Driver
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch50_project/" title="Project" class="dd-item
        
        
        
        ">
      <a href="../../ch50_project/">
          Project
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch90_faq/" title="FAQ" class="dd-item
        
        
        
        ">
      <a href="../../ch90_faq/">
          FAQ
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://studiegidswww.uhasselt.be/opleidingsonderdeel.aspx?a=2023&amp;i=3314"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://toledo.kuleuven.be/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>System-on-Chip design and experimentation  - lab</a> > <a href='../../ch1_light/'>1: Let there be light</a> > Bringing it all together
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#leds">LEDs</a></li>
<li><a href="#rgb-leds">RGB LEDs</a></li>
<li><a href="#operation">Operation</a></li>
<li><a href="#final-layout">Final layout</a></li>
<li><a href="#testing-testing-and-some-more-testing">Testing (, testing, and some more testing)</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Bringing it all together
            </h1>
          

        




<p>Up until this point you have made different hardware designs to achieve a number of features. These features will be used in the board as it functions as <strong>Christmas light</strong>.</p>

<p>Before going to a processor or communication, things needs to be fixed. The most important thing, from a hardware point of view, is the interface. The following features will need to be present:</p>

<div class="multicolumn">
  <div class="column">
    <h4>Targets</h4>
    <ul>
      <li>LED 0</li>
      <li>LED 1</li>
      <li>LED 2</li>
      <li>LED 3</li>
      <li>RGB LED 0</li>
      <li>RGB LED 1</li>
    </ul>
  </div>
  <div class="column">
    <h4>Functions</h4>
    <ul>
      <li>fixed value on LED (0/1)</li>
      <li>blinking LED on certain frequencies</li>
      <li>the color on the RGB LEDs</li>
      <li>the brightness on the RGB LEDs</li>
    </ul>
  </div>
</div>

<p>The configuration which will be applied to your <span style="color: #D0556A; font-weight: bold">PYNQ Z2</span>, eventually, will come through communication. For now, you will prepare it for communication with a processor. As we all have to agree on the <strong>interface</strong> and the <strong>commands</strong> the following is proposed:</p>

<figure><img src="../../img/ch1/commands.svg"/>
</figure>

<h3 id="leds">LEDs</h3>

<p>The 8 rightmost bits (bits 7 downto 0) have an effect on the LEDs. The most-significant nibble (7 downto 4) selects the affected LED(s), while the least-significant nibble selectes the affected pattern. The LED selection is <strong>one-hot coded</strong>, the pattern is <strong>binary coded</strong>.</p>

<table>
<thead>
<tr>
<th>bit</th>
<th>description</th>
<th>argument</th>
</tr>
</thead>

<tbody>
<tr>
<td>3-0</td>
<td>blank the selected LED(s)</td>
<td>&ldquo;0000&rdquo;</td>
</tr>

<tr>
<td></td>
<td>drive the selected LED(s)</td>
<td>&ldquo;0001&rdquo;</td>
</tr>

<tr>
<td></td>
<td>blink the selected LED(s)</td>
<td>Frequency = 2<sup>(nibble % 4)</sup> Hz</td>
</tr>

<tr>
<td>4</td>
<td>LED 0</td>
<td><em>see 3-0</em></td>
</tr>

<tr>
<td>5</td>
<td>LED 1</td>
<td><em>see 3-0</em></td>
</tr>

<tr>
<td>6</td>
<td>LED 2</td>
<td><em>see 3-0</em></td>
</tr>

<tr>
<td>7</td>
<td>LED 3</td>
<td><em>see 3-0</em></td>
</tr>
</tbody>
</table>

<h3 id="rgb-leds">RGB LEDs</h3>

<p>The next-to-last 10 bits (bits 17 downto 8) have an effect on the RGB LEDs. The 6 most significant bits select the affected RGB LED(s), while the least-significant nibble selectes the affected pattern. The selection is <strong>one-hot coded</strong>, the pattern is <strong>binary coded</strong>.</p>

<table>
<thead>
<tr>
<th>bit</th>
<th>description</th>
<th>argument</th>
</tr>
</thead>

<tbody>
<tr>
<td>11-8</td>
<td>duty cycle</td>
<td>&ldquo;0000&rdquo; = 0%, &ldquo;1111&rdquo; = 100%</td>
</tr>

<tr>
<td>12</td>
<td>red on RGB LED 0</td>
<td><em>see 11-8</em></td>
</tr>

<tr>
<td>13</td>
<td>green on RGB LED 0</td>
<td><em>see 11-8</em></td>
</tr>

<tr>
<td>14</td>
<td>blue on RGB LED 0</td>
<td><em>see 11-8</em></td>
</tr>

<tr>
<td>15</td>
<td>red on RGB LED 1</td>
<td><em>see 11-8</em></td>
</tr>

<tr>
<td>16</td>
<td>green on RGB LED 1</td>
<td><em>see 11-8</em></td>
</tr>

<tr>
<td>17</td>
<td>blue on RGB LED 1</td>
<td><em>see 11-8</em></td>
</tr>
</tbody>
</table>

<h3 id="operation">Operation</h3>

<p>The commands are explained above. A few example are given here.</p>

<ul>
<li>When the <span style="color: #D0556A; font-weight: bold">PYNQ Z2</span> receives the command <strong>0x000000F1</strong>, this selects ALL the <em>LEDs</em> (because of the <strong>F</strong>) and their operation is: LED on (because of the <strong>1</strong>).</li>
<li>When the <span style="color: #D0556A; font-weight: bold">PYNQ Z2</span> receives the command <strong>0x00008F00</strong>, this selects the Red led from RGB LED 1 and it turns it on.</li>
<li>When the <span style="color: #D0556A; font-weight: bold">PYNQ Z2</span> receives the command <strong>0x0000471C</strong>, this selects the Blue led from RGB LED 0 and it turns it on with a (roughly)
50% duty cycle. <strong>Additionally</strong> is has the left most LED oscillate at 1 Hz.</li>
</ul>

<p>As you can see from the examples above, the commands can have one single effect, or can have multiple effects. This allows us configure the lights more finely grained. If you would want to recreate exercise 4, you would have to send four commands: <strong>0x1C</strong>, <strong>0x2D</strong>, <strong>0x4E</strong>, <strong>0x8F</strong>.</p>


<div class="notices note" ><p>It is useful to <strong>keep a copy</strong> of the configuration for each <em>target</em>. Otherwise every command would overwrite the previous command. Off course it is not required to keep the complete configuration for each target. Only the relevant information needs to be <strong>memorised</strong>.</p>
</div>


<p>To indicate that a command is <em>ready-for-interpretation</em>, a single input is used: <strong>command_valid</strong>. As long as this input is high, the <em>command</em> should stay constant. There are no other limitations. The image below gives an example how the commands can be received to recreate exercise 4.</p>

<figure><img src="../../img/ch1/wavedrom.png"/>
</figure>

<div class="source">
Image created with <a href="https://wavedrom.com/" target="_blank">WaveDrom</a>
</div>

<!-- {signal: [
  { name: "clock", wave: 'p................' },
  { name: "command", wave: 'x3..|.6...4.5..x.', data: ['0x1C', '0x2D', '0x3E', '0x4F']},
  { name: 'command_valid', wave: '0.10...10..1.0...'}
]}
-->

<h3 id="final-layout">Final layout</h3>

<p>The entity/module on the hierarchical top-level should look as shown below. Keep the port names as they are shown in the VHDL/Verilog code below.
<figure><img src="../../img/ch1/ipcore_lite.jpg"/>
</figure></p>

<div class="multicolumn">
  <div class="column">
    <h4>VHDL</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-VHDL" data-lang="VHDL"><span style="color:#66d9ef">entity</span> <span style="color:#a6e22e">xmas_light</span> <span style="color:#66d9ef">is</span>
  <span style="color:#66d9ef">port</span> (
    reset <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC</span>;
    clock <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC</span>;
    command <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">31</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
    command_valid <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC</span>;
    RGB0 <span style="color:#f92672">:</span> <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
    RGB1 <span style="color:#f92672">:</span> <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
    LEDs <span style="color:#f92672">:</span> <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">3</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>)
  );
<span style="color:#66d9ef">end</span> <span style="color:#a6e22e">xmas_light</span>;</code><span class="copy-to-clipboard" title="Copy to clipboard"></span></pre></div>
  </div>

<p><div class="column">
    <h4>Verilog</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-verilog" data-lang="verilog"><span style="color:#66d9ef">module</span> xmas_light (
  <span style="color:#66d9ef">input</span>         reset,
  <span style="color:#66d9ef">input</span>         clock,
  <span style="color:#66d9ef">input</span>  [<span style="color:#ae81ff">31</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] command,
  <span style="color:#66d9ef">input</span>         command_valid,
  <span style="color:#66d9ef">output</span> [<span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>]  rgb0,
  <span style="color:#66d9ef">output</span> [<span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>]  rgb1,
  <span style="color:#66d9ef">output</span> [<span style="color:#ae81ff">3</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>]  leds
);
</code><span class="copy-to-clipboard" title="Copy to clipboard"></span></pre></div>
  </div>
</div></p>

<div class="multicolumn">
  <div class="column">
  </div>
  <div class="column">
  </div>
</div>

<h3 id="testing-testing-and-some-more-testing">Testing (, testing, and some more testing)</h3>

<p>With the toplevel-design ready, it needs to be tested. Remember the rule-of-thumb which states that <strong>for each hour of designing you should spend two hours on testing !!</strong></p>

<p>The VHDL-code below shows an example of the testbench. Verilog users can also use a <strong>VHDL</strong> testbench (and the other way around) !! An example waveform as shown below, should be obtained.</p>

<div class="multicolumn">
  <div class="column">
<figure><img src="../../img/ch1/together_LED.png"/>
</figure>

  </div>
  <div class="column">
<figure><img src="../../img/ch1/together_RGBLED.png"/>
</figure>

  </div>
    <div class="column">
<figure><img src="../../img/ch1/together_complete.png"/>
</figure>

  </div>
</div>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-VHDL" data-lang="VHDL"><span style="color:#66d9ef">library</span> IEEE;
<span style="color:#66d9ef">use</span> IEEE.STD_LOGIC_1164.<span style="color:#66d9ef">ALL</span>;

<span style="color:#66d9ef">entity</span> <span style="color:#a6e22e">xmas_light_tb</span> <span style="color:#66d9ef">is</span>
<span style="color:#66d9ef">end</span> <span style="color:#a6e22e">xmas_light_tb</span>;

<span style="color:#66d9ef">architecture</span> <span style="color:#a6e22e">Behavioural</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">xmas_light_tb</span> <span style="color:#66d9ef">is</span>

  <span style="color:#66d9ef">component</span> <span style="color:#a6e22e">xmas_light</span> <span style="color:#66d9ef">is</span>
    <span style="color:#66d9ef">port</span> (
      reset <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC</span>;
      clock <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC</span>;
      command <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">31</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
      command_valid <span style="color:#f92672">:</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">STD_LOGIC</span>;
      RGB0 <span style="color:#f92672">:</span> <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
      RGB1 <span style="color:#f92672">:</span> <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
      LEDs <span style="color:#f92672">:</span> <span style="color:#66d9ef">out</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">3</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>)
    );
  <span style="color:#66d9ef">end</span> <span style="color:#66d9ef">component</span>;

  <span style="color:#66d9ef">signal</span> reset, clock <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC</span>;
  <span style="color:#66d9ef">signal</span> command <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">31</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">signal</span> command_valid <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC</span>;
  <span style="color:#66d9ef">signal</span> RGB0 <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">signal</span> RGB1 <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);
  <span style="color:#66d9ef">signal</span> LEDs <span style="color:#f92672">:</span> <span style="color:#66d9ef">STD_LOGIC_VECTOR</span>(<span style="color:#ae81ff">3</span> <span style="color:#66d9ef">downto</span> <span style="color:#ae81ff">0</span>);

  <span style="color:#66d9ef">constant</span> clock_period <span style="color:#f92672">:</span> <span style="color:#66d9ef">time</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">10</span> ns;

<span style="color:#66d9ef">begin</span>

  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#75715e">-- STIMULI</span>
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#a6e22e">PSTIM</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">process</span>
  <span style="color:#66d9ef">begin</span>
    reset <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;00000000&#34;</span>;
    command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10</span>;

    reset <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;
    
    <span style="color:#75715e">--*************************************************************************</span>

    <span style="color:#75715e">-- turn on all LEDs</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_F1&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- turn off all LEDs</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_F0&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate all LEDs at 1 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_FC&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate all LEDs at 2 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_FD&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate all LEDs at 4 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_FE&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate all LEDs at 8 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_FF&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- turn off all LEDs</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_F0&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">--*************************************************************************</span>

    <span style="color:#75715e">-- turn on LED(0)</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_11&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- turn off LED(0)</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_10&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(0) at 1 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_1C&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(0) at 2 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_1D&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(0) at 4 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_1E&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(0) at 8 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_1F&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- turn off all LEDs</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_F0&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">--*************************************************************************</span>

    <span style="color:#75715e">-- turn on LED(1)</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_21&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- turn off LED(1)</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_20&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(1) at 1 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_2C&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(1) at 2 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_2D&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(1) at 4 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_2E&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(1) at 8 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_2F&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

      <span style="color:#75715e">-- turn off all LEDs</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_F0&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;


    <span style="color:#75715e">--*************************************************************************</span>

    <span style="color:#75715e">-- turn on LED(2)</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_41&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- turn off LED(2)</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_40&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(2) at 1 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_4C&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(2) at 2 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_4D&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(2) at 4 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_4E&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(0) at 8 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_4F&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- turn off all LEDs</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_F0&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">--*************************************************************************</span>
    
    <span style="color:#75715e">-- turn on LED(3)</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_81&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- turn off LED(3)</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_80&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(3) at 1 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_8C&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(3) at 2 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_8D&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(3) at 4 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_8E&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;

    <span style="color:#75715e">-- oscillate LED(1) at 8 Hz</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_8F&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;


    <span style="color:#75715e">-- turn off all LEDs</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_F0&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">1000</span>;


    <span style="color:#75715e">-- turn off all RGB LEDs</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_3F0_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on RED_0 - PWM1</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_011_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on GREEN_0 - PWM2</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_022_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on BLUE_0 - PWM3</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_043_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on RED_1 - PWM4</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_084_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on GREEN_1 - PWM5</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_105_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on BLUE_1 - PWM6</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_206_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on RED_0 - PWM7</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_017_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on GREEN_0 - PWM8</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_028_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on BLUE_0 - PWM9</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_049_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on RED_1 - PWMA</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_08A_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on GREEN_1 - PWMB</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_10B_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on BLUE_1 - PWMC</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_20C_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on RED_0 - PWMD</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_01D_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on GREEN_0 - PWME</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_02E_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on BLUE_0 - PWMF</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_04F_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on RED_1 - PWMF</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_08F_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on GREEN_1 - PWMF</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_10F_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on BLUE_1 - PWMF</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_20F_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on RED_0 - PWMF</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_01F_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#75715e">-- turn on GREEN_0 - PWME</span>
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_02F_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    command <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">x&#34;000_000_00&#34;</span>;  command_valid <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;  <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">4</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">*</span><span style="color:#ae81ff">10000</span>;

    <span style="color:#66d9ef">wait</span>;
  <span style="color:#66d9ef">end</span> <span style="color:#66d9ef">process</span>;


  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#75715e">-- DEVICE UNDER TEST</span>
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  DUT<span style="color:#f92672">:</span> <span style="color:#66d9ef">component</span> <span style="color:#a6e22e">xmas_light</span> <span style="color:#66d9ef">port</span> <span style="color:#66d9ef">map</span>(
    reset <span style="color:#f92672">=&gt;</span> reset,
    clock <span style="color:#f92672">=&gt;</span> clock,
    command <span style="color:#f92672">=&gt;</span> command,
    command_valid <span style="color:#f92672">=&gt;</span> command_valid,
    RGB0 <span style="color:#f92672">=&gt;</span> RGB0,
    RGB1 <span style="color:#f92672">=&gt;</span> RGB1,
    LEDs <span style="color:#f92672">=&gt;</span> LEDs
  );

  
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#75715e">-- CLOCK</span>
  <span style="color:#75715e">-------------------------------------------------------------------------------</span>
  <span style="color:#a6e22e">PCLK</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">process</span>
  <span style="color:#66d9ef">begin</span>
    clock <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;1&#39;</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;
    clock <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;0&#39;</span>;
    <span style="color:#66d9ef">wait</span> <span style="color:#66d9ef">for</span> clock_period<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>;
  <span style="color:#66d9ef">end</span> <span style="color:#66d9ef">process</span> <span style="color:#a6e22e">PCLK</span>;

<span style="color:#66d9ef">end</span> <span style="color:#a6e22e">Behavioural</span>;</code></pre></div>

<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../ch1_light/3_colour/" title="Turn up the colours"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../ch2_soc/" title="2: Put a SoC in it" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1707469859"></script>
    <script src="../../js/perfect-scrollbar.min.js?1707469859"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1707469859"></script>
    <script src="../../js/jquery.sticky.js?1707469859"></script>
    <script src="../../js/featherlight.min.js?1707469859"></script>
    <script src="../../js/highlight.pack.js?1707469859"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1707469859"></script>
    <script src="../../js/learn.js?1707469859"></script>
    <script src="../../js/hugo-learn.js?1707469859"></script>
    
        
            <script src="../../mermaid/mermaid.js?1707469859"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

